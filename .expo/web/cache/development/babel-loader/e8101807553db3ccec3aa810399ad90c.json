{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\josep\\\\Documents\\\\GitHub\\\\safepass\\\\src\\\\features\\\\login\\\\TeacherLoginStep.tsx\";\nimport React from 'react';\nimport { Text, Spinner, Input } from '@ui-kitten/components';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport DefaultLayout from \"../../components/layouts/DefaultLayout\";\nimport LottieView from 'lottie-react-native';\nimport { setupDistrict } from \"./setupSlice\";\nimport { useDispatch } from 'react-redux';\n\nvar TeacherLoginStep = function TeacherLoginStep(_ref) {\n  var navigation = _ref.navigation;\n  var dispatch = useDispatch();\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      email = _React$useState2[0],\n      setEmail = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      districtData = _React$useState6[0],\n      setDistrictData = _React$useState6[1];\n\n  var _React$useState7 = React.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      filteredDistricts = _React$useState8[0],\n      setFilteredDistricts = _React$useState8[1];\n\n  var handleSelectDistrict = function handleSelectDistrict(district) {\n    if (!district.name || !district.id) {\n      alert('Invalid district data. Please try restarting the application. If this problem persists, please contact support.');\n      return;\n    }\n\n    try {\n      dispatch(setupDistrict(district));\n    } catch (e) {\n      Alert.alert(JSON.stringify(e));\n    }\n\n    navigation.navigate('TeacherLoginStep');\n    dispatch(setupDistrict(district));\n  };\n\n  return React.createElement(DefaultLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    category: \"h1\",\n    style: {\n      marginTop: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Login\"), React.createElement(Text, {\n    category: \"s1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"Enter the email and password as provided by your school district.\"), React.createElement(Input, {\n    size: \"large\",\n    style: {\n      width: '100%',\n      marginTop: 50,\n      marginBottom: 20\n    },\n    placeholder: \"Email Address\",\n    caption: \"Enter the email that you were provided to sign in with. This may be your district email address.\",\n    value: email,\n    onChangeText: function onChangeText(text) {\n      return setEmail(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), React.createElement(Input, {\n    size: \"large\",\n    style: {\n      width: '100%',\n      marginTop: 50,\n      marginBottom: 20\n    },\n    placeholder: \"Email Address\",\n    caption: \"Enter the email that you were provided to sign in with. This may be your district email address.\",\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), districtData == null && React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'row',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, Platform.OS === 'web' ? React.createElement(Spinner, {\n    size: \"giant\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }) : React.createElement(LottieView, {\n    autoPlay: true,\n    style: {\n      width: 100\n    },\n    source: require(\"../../assets/mainLoader.json\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  })), React.createElement(FlatList, {\n    style: {\n      width: '100%'\n    },\n    data: filteredDistricts,\n    renderItem: SchoolDistrictListItem,\n    keyExtractor: function keyExtractor(item) {\n      return String(item.id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default TeacherLoginStep;","map":{"version":3,"sources":["C:/Users/josep/Documents/GitHub/safepass/src/features/login/TeacherLoginStep.tsx"],"names":["React","Text","Spinner","Input","DefaultLayout","LottieView","setupDistrict","useDispatch","TeacherLoginStep","navigation","dispatch","useState","email","setEmail","password","setPassword","districtData","setDistrictData","filteredDistricts","setFilteredDistricts","handleSelectDistrict","district","name","id","alert","e","Alert","JSON","stringify","navigate","marginTop","width","marginBottom","text","flex","flexDirection","justifyContent","Platform","OS","require","SchoolDistrictListItem","item","String"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Layout,\n  Text,\n  Autocomplete,\n  AutocompleteItem,\n  Button,\n  Icon,\n  Spinner,\n  Input,\n} from '@ui-kitten/components';\nimport { KeyboardAvoidingView, Platform, FlatList, View, Alert } from 'react-native';\nimport DefaultLayout from '../../components/layouts/DefaultLayout';\nimport { db } from '../../components/FirebaseAuthenticator';\nimport LottieView from 'lottie-react-native';\nimport { District, setupDistrict } from './setupSlice';\nimport { useDispatch } from 'react-redux';\nimport {\n  SchoolDistrictScreenNavigationProp,\n  TeacherLoginScreenNavigationProp,\n} from '../../navigation/AuthNavigation';\n\ninterface TeacherLoginStepProps {\n  navigation: TeacherLoginScreenNavigationProp;\n}\n\nconst TeacherLoginStep = ({ navigation }: TeacherLoginStepProps) => {\n  const dispatch = useDispatch();\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [districtData, setDistrictData] = React.useState<District[]>();\n  const [filteredDistricts, setFilteredDistricts] = React.useState<District[]>();\n\n  const handleSelectDistrict = (district: District) => {\n    // Validation\n    if (!district.name || !district.id) {\n      alert(\n        'Invalid district data. Please try restarting the application. If this problem persists, please contact support.'\n      );\n      return;\n    }\n\n    try {\n      dispatch(setupDistrict(district));\n    } catch (e) {\n      Alert.alert(JSON.stringify(e));\n    }\n\n    navigation.navigate('TeacherLoginStep');\n\n    dispatch(setupDistrict(district));\n  };\n\n  return (\n    <DefaultLayout>\n      <Text category=\"h1\" style={{ marginTop: 30 }}>\n        Login\n      </Text>\n      <Text category=\"s1\">Enter the email and password as provided by your school district.</Text>\n\n      <Input\n        size=\"large\"\n        style={{ width: '100%', marginTop: 50, marginBottom: 20 }}\n        placeholder=\"Email Address\"\n        caption=\"Enter the email that you were provided to sign in with. This may be your district email address.\"\n        value={email}\n        onChangeText={text => setEmail(text)}\n      />\n      <Input\n        size=\"large\"\n        style={{ width: '100%', marginTop: 50, marginBottom: 20 }}\n        placeholder=\"Email Address\"\n        caption=\"Enter the email that you were provided to sign in with. This may be your district email address.\"\n        value={password}\n        onChangeText={text => setPassword(text)}\n      />\n\n      {districtData == null && (\n        <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center' }}>\n          {Platform.OS === 'web' ? (\n            <Spinner size=\"giant\" />\n          ) : (\n            <LottieView\n              autoPlay\n              style={{\n                width: 100,\n              }}\n              source={require('../../assets/mainLoader.json')}\n            />\n          )}\n        </View>\n      )}\n\n      <FlatList\n        style={{ width: '100%' }}\n        data={filteredDistricts}\n        renderItem={SchoolDistrictListItem}\n        keyExtractor={item => String(item.id)}\n      />\n    </DefaultLayout>\n  );\n};\n\nexport default TeacherLoginStep;\n"]},"metadata":{},"sourceType":"module"}