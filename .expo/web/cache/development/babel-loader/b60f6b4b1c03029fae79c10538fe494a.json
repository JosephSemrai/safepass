{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\josep\\\\Documents\\\\GitHub\\\\safepass\\\\src\\\\features\\\\login\\\\PhoneInputStep.tsx\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport React, { useState } from 'react';\nimport { normalizePhoneNumber, formatPhoneNumber } from \"../../utils/formatPhoneNumber\";\nimport FancyButton from \"../../components/FancyButton\";\nimport FancyInput from \"../../components/FancyInput\";\nimport Header from \"../../components/Header\";\nimport spacing from \"../../theme/spacing\";\nimport typography from \"../../theme/typography\";\nimport colors from \"../../theme/colors\";\nimport BackButton from \"../../components/BackButton\";\n\nvar PhoneInputStep = function PhoneInputStep(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      displayPhoneNumber = _useState2[0],\n      setDisplayPhoneNumber = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      phoneNumber = _useState4[0],\n      setPhoneNumber = _useState4[1];\n\n  var handlePhoneInput = function handlePhoneInput(phoneNumber) {\n    setPhoneNumber(normalizePhoneNumber(phoneNumber));\n    setDisplayPhoneNumber(formatPhoneNumber(phoneNumber));\n  };\n\n  var onPhoneNumberSubmit = function onPhoneNumberSubmit() {\n    return _regeneratorRuntime.async(function onPhoneNumberSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (phoneNumber) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", alert('Please enter a phone number.'));\n\n          case 2:\n            if (!(phoneNumber.length !== 12)) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\", alert('Please enter a valid phone number.'));\n\n          case 4:\n            setLoading(true);\n            navigation.navigate('WebView', {\n              phoneNumber: phoneNumber\n            });\n            setLoading(false);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var debugNavigation = function debugNavigation() {\n    Alert.prompt('DEBUG ONLY TOOL: Navigate', 'If you are a regular user and stumbled upon this tool. Please press cancel', [{\n      text: 'Cancel',\n      style: 'cancel'\n    }, {\n      text: 'OK',\n      onPress: function onPress(navScreen) {\n        return navigation.navigate(navScreen);\n      }\n    }]);\n    return null;\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      backgroundColor: colors.contrastText,\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: {\n      width: '80%',\n      height: '100%',\n      alignItems: 'stretch',\n      justifyContent: 'flex-start'\n    },\n    behavior: Platform.select({\n      ios: 'padding',\n      android: null\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, React.createElement(BackButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableHighlight, {\n    onPress: debugNavigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Debug Navigation\")), React.createElement(Header, {\n    emoji: \"phone\",\n    title: \"what's ur number?\",\n    subtitle: \"we'll text u a code so we can make sure ur not a robot\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      marginVertical: spacing.inputSpacing\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, React.createElement(FancyInput, {\n    label: \"phone number\",\n    placeholder: \"enter your phone number here\",\n    value: displayPhoneNumber,\n    onChangeText: function onChangeText(phoneNumber) {\n      return handlePhoneInput(phoneNumber);\n    },\n    maxLength: 14,\n    keyboardType: 'numeric',\n    returnKeyType: 'done',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'flex-end',\n      marginBottom: 10,\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: [{\n      textAlign: 'center'\n    }, typography.smallExplainerText],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, \"Semrai, LLC is reponsible for the processing and collection of your personal data, upon which you have the rights to. By signing up you agree to our\", ' ', React.createElement(Text, {\n    onPress: function onPress() {\n      return alert('presses');\n    },\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"Privacy Policy\"), ' ', \"and \", React.createElement(Text, {\n    style: {\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \"Terms of Service\")), React.createElement(FancyButton, {\n    text: \"next\",\n    loading: loading,\n    onPress: onPhoneNumberSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default PhoneInputStep;","map":{"version":3,"sources":["C:/Users/josep/Documents/GitHub/safepass/src/features/login/PhoneInputStep.tsx"],"names":["React","useState","normalizePhoneNumber","formatPhoneNumber","FancyButton","FancyInput","Header","spacing","typography","colors","BackButton","PhoneInputStep","navigation","displayPhoneNumber","setDisplayPhoneNumber","phoneNumber","setPhoneNumber","handlePhoneInput","onPhoneNumberSubmit","alert","length","setLoading","navigate","loading","debugNavigation","Alert","prompt","text","style","onPress","navScreen","backgroundColor","contrastText","alignItems","width","height","justifyContent","Platform","select","ios","android","marginVertical","inputSpacing","flex","marginBottom","textAlign","smallExplainerText","fontWeight"],"mappings":"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","sourcesContent":["import {\r\n  View,\r\n  Text,\r\n  SafeAreaView,\r\n  KeyboardAvoidingView,\r\n  StyleSheet,\r\n  TouchableHighlight,\r\n  Alert,\r\n  Platform,\r\n} from 'react-native';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { normalizePhoneNumber, formatPhoneNumber } from '../../utils/formatPhoneNumber';\r\nimport FancyButton from '../../components/FancyButton';\r\nimport FancyInput from '../../components/FancyInput';\r\nimport Header from '../../components/Header';\r\nimport spacing from '../../theme/spacing';\r\nimport typography from '../../theme/typography';\r\nimport Emoji from 'react-native-emoji';\r\nimport colors from '../../theme/colors';\r\nimport { StackNavigationProp } from '@react-navigation/stack';\r\nimport { PhoneScreenNavigationProp } from '../../navigation/AuthNavigation';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport BackButton from '../../components/BackButton';\r\n\r\ninterface PhoneInputStepProps {\r\n  navigation: PhoneScreenNavigationProp;\r\n}\r\n\r\nconst PhoneInputStep: React.FC<PhoneInputStepProps> = ({ navigation }: PhoneInputStepProps) => {\r\n  const [displayPhoneNumber, setDisplayPhoneNumber] = useState<string>();\r\n  const [phoneNumber, setPhoneNumber] = useState<string>();\r\n\r\n  const handlePhoneInput = (phoneNumber: string) => {\r\n    setPhoneNumber(normalizePhoneNumber(phoneNumber));\r\n    setDisplayPhoneNumber(formatPhoneNumber(phoneNumber));\r\n  };\r\n\r\n  const onPhoneNumberSubmit = async () => {\r\n    if (!phoneNumber) return alert('Please enter a phone number.');\r\n    if (phoneNumber.length !== 12) return alert('Please enter a valid phone number.');\r\n\r\n    setLoading(true);\r\n    navigation.navigate('WebView', { phoneNumber });\r\n    setLoading(false);\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Resets navigation so you can't swipe back to the loading screen\r\n  // useEffect(\r\n  //   () =>\r\n  //     navigation.reset({\r\n  //       index: 0,\r\n  //       routes: [{ name: 'PhoneStack' }],\r\n  //     }),\r\n  //   []\r\n  // );\r\n\r\n  const debugNavigation = (): null => {\r\n    Alert.prompt(\r\n      'DEBUG ONLY TOOL: Navigate',\r\n      'If you are a regular user and stumbled upon this tool. Please press cancel',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n          style: 'cancel',\r\n        },\r\n        {\r\n          text: 'OK',\r\n          onPress: (navScreen: any) => navigation.navigate(navScreen),\r\n        },\r\n      ]\r\n    );\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ backgroundColor: colors.contrastText, alignItems: 'center' }}>\r\n      <KeyboardAvoidingView\r\n        style={{\r\n          width: '80%',\r\n          height: '100%',\r\n          alignItems: 'stretch',\r\n          justifyContent: 'flex-start',\r\n        }}\r\n        behavior={Platform.select({ ios: 'padding', android: null })}>\r\n        <BackButton />\r\n        <TouchableHighlight onPress={debugNavigation}>\r\n          <Text>Debug Navigation</Text>\r\n        </TouchableHighlight>\r\n\r\n        <Header\r\n          emoji=\"phone\"\r\n          title=\"what's ur number?\"\r\n          subtitle=\"we'll text u a code so we can make sure ur not a robot\"\r\n        />\r\n\r\n        <View style={{ marginVertical: spacing.inputSpacing }}>\r\n          <FancyInput\r\n            label=\"phone number\"\r\n            placeholder=\"enter your phone number here\"\r\n            value={displayPhoneNumber}\r\n            onChangeText={phoneNumber => handlePhoneInput(phoneNumber)}\r\n            maxLength={14}\r\n            keyboardType={'numeric'}\r\n            returnKeyType={'done'}\r\n          />\r\n        </View>\r\n\r\n        {/* <Text style={typography.paragraphText}>\r\n        never sign up using someone else's number. u won't be able to sign in, and u will probably\r\n        annoy that person.\r\n      </Text> */}\r\n\r\n        <View\r\n          style={{ flex: 1, justifyContent: 'flex-end', marginBottom: 10, alignItems: 'center' }}>\r\n          <Text style={[{ textAlign: 'center' }, typography.smallExplainerText]}>\r\n            Semrai, LLC is reponsible for the processing and collection of your personal data, upon\r\n            which you have the rights to. By signing up you agree to our{' '}\r\n            <Text onPress={() => alert('presses')} style={{ fontWeight: 'bold' }}>\r\n              Privacy Policy\r\n            </Text>{' '}\r\n            and <Text style={{ fontWeight: 'bold' }}>Terms of Service</Text>\r\n          </Text>\r\n          <FancyButton text=\"next\" loading={loading} onPress={onPhoneNumberSubmit} />\r\n        </View>\r\n\r\n        {/* <TextInput value={phoneNumber} onChangeText={phoneNumber => handlePhoneInput(phoneNumber)} /> */}\r\n      </KeyboardAvoidingView>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default PhoneInputStep;\r\n"]},"metadata":{},"sourceType":"module"}